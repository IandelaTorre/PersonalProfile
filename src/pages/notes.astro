---
import BaseLayout from '../layouts/BaseLayout.astro';
import Card from '../components/ui/Card.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const notes = [
  {
    title: lang === 'en' ? 'Understanding Swift Concurrency' : 'Entendiendo la Concurrencia en Swift',
    date: '2023-10-15',
    excerpt: lang === 'en' 
      ? 'A deep dive into async/await and actors in Swift 5.5+.' 
      : 'Una inmersi칩n profunda en async/await y actores en Swift 5.5+.'
  },
  {
    title: lang === 'en' ? 'Clean Architecture in iOS' : 'Arquitectura Limpia en iOS',
    date: '2023-09-22',
    excerpt: lang === 'en'
      ? 'How to implement Clean Architecture with MVVM and Coordinators.'
      : 'C칩mo implementar Arquitectura Limpia con MVVM y Coordinators.'
  },
  {
    title: lang === 'en' ? 'NestJS Best Practices' : 'Mejores Pr치cticas en NestJS',
    date: '2023-08-10',
    excerpt: lang === 'en'
      ? 'Tips for building scalable and maintainable backend services.'
      : 'Consejos para construir servicios backend escalables y mantenibles.'
  }
];
---

<BaseLayout title={`Ian Axel - ${t('nav.notes')}`}>
  <section class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
    <div class="max-w-2xl mx-auto text-center mb-10 lg:mb-14">
      <h2 class="text-2xl font-bold md:text-4xl md:leading-tight dark:text-white">{t('nav.notes')}</h2>
    </div>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {notes.map((note) => (
        <Card href="#" class="h-full">
          <div class="flex flex-col h-full p-4">
            <h3 class="text-lg font-bold text-gray-800 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-500">
              {note.title}
            </h3>
            <p class="mt-1 text-xs text-gray-500 dark:text-neutral-500">
              {note.date}
            </p>
            <p class="mt-3 text-gray-600 dark:text-neutral-400 flex-grow">
              {note.excerpt}
            </p>
            <div class="mt-4">
                <span class="text-blue-600 dark:text-blue-500 text-sm font-medium hover:underline">
                    {lang === 'en' ? 'Read more' : 'Leer m치s'}
                </span>
            </div>
          </div>
        </Card>
      ))}
    </div>
  </section>
</BaseLayout>
