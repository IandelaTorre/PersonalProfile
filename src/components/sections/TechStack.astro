---
import Badge from '../ui/Badge.astro';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const stack = [
  {
    category: t('techStack.ios'),
    items: [
      { name: 'Swift', color: 'blue' },
      { name: 'SwiftUI', color: 'blue' },
      { name: 'UIKit', color: 'gray' },
      { name: 'MVVM', color: 'gray' },
      { name: 'Coordinators', color: 'gray' },
      { name: 'CoreData', color: 'gray' },
    ]
  },
  {
    category: t('techStack.frontend'),
    items: [
      { name: 'React', color: 'teal' },
      { name: 'TypeScript', color: 'teal' },
      { name: 'Next.js', color: 'gray' },
      { name: 'Tailwind CSS', color: 'teal' },
      { name: 'Astro', color: 'purple' },
    ]
  },
  {
    category: t('techStack.backend'),
    items: [
      { name: 'NestJS', color: 'red' },
      { name: 'Node.js', color: 'gray' },
      { name: 'PostgreSQL', color: 'gray' },
      { name: 'REST APIs', color: 'gray' },
    ]
  },
  {
    category: t('techStack.tooling'),
    items: [
      { name: 'Xcode', color: 'blue' },
      { name: 'Git', color: 'gray' },
      { name: 'CI/CD', color: 'gray' },
      { name: 'Docker', color: 'gray' },
    ]
  }
];
---

<section id="tech-stack" class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
  <div class="max-w-2xl mx-auto text-center mb-10 lg:mb-14">
    <h2 class="text-2xl font-bold md:text-4xl md:leading-tight dark:text-white">{t('techStack.title')}</h2>
  </div>

  <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
    {stack.map((group) => (
      <div class="flex flex-col bg-white border border-gray-200 shadow-sm rounded-xl p-4 md:p-5 dark:bg-neutral-900 dark:border-neutral-700 dark:shadow-neutral-700/70">
        <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-3">
          {group.category}
        </h3>
        <div class="flex flex-wrap gap-2">
          {group.items.map((item) => (
            <Badge label={item.name} color={item.color as any} />
          ))}
        </div>
      </div>
    ))}
  </div>
</section>
